:root { --border: #eeeeee; --header-bg: #f9f9f9; --wc-green: #07c160; --text-main: #333; }
* { margin:0; padding:0; box-sizing:border-box; font-family:-apple-system, "SF Pro Text", sans-serif; }

body { 
    background:#000; 
    height: 100dvh; 
    display:flex; justify-content:center; align-items:center; 
    overflow:hidden; margin: 0;
}

/* 手机外壳铺满全屏 */
.phone-wrapper { 
    width: 100vw; 
    height: 100dvh; 
    background:#fff; 
    position:relative; 
    overflow:hidden; 
    display: flex;
    flex-direction: column;
}

/* 状态栏适配 */
.status-bar { 
    height: calc(44px + env(safe-area-inset-top)); 
    padding: env(safe-area-inset-top) 20px 0;
    display:flex; justify-content:space-between; align-items:center; 
    font-size:14px; font-weight:600; background:#fff; z-index:999; 
}

/* App 层级布局修正 */
.app-layer { 
    position:absolute; 
    top: calc(44px + env(safe-area-inset-top)); 
    left:0; width:100%; 
    height: calc(100% - 44px - env(safe-area-inset-top)); 
    display:none; background:#fff; z-index:10; 
}
.app-layer.active { display:flex; flex-direction:column; }

/* --- 主屏幕：严禁修改间距尺寸 --- */
.home-header { text-align:center; padding-top:20px; }
.date-display { font-size:1.3rem; font-weight:300; }
.time-display { font-size:2.8rem; font-weight:600; margin:5px 0; }
.motto-box { margin:10px auto; width:80%; padding:8px; border:1px solid #eee; border-radius:10px; font-size:0.9rem; color:#888; }
.frosted-long-card { 
    margin:25px 20px 0; height:60px; border-radius:18px; 
    background:rgba(255,255,255,0.7); border:1px solid #eee; 
    backdrop-filter:blur(15px); display:flex; align-items:center; justify-content:center; color:#aaa; font-size:0.8rem;
}
.home-main-layout { margin-top:135px; padding:0 20px; display:flex; gap:20px; align-items:center; }
.frosted-square-card { width:150px; height:150px; border-radius:28px; background:#f0f0f0; border:1px solid #eee; overflow:hidden; position:relative; }
.frosted-square-card img { width:100%; height:100%; object-fit:cover; }
.ios-grid { flex:1; display:grid; grid-template-columns:1fr 1fr; gap:15px; }
.ios-item { display:flex; flex-direction:column; align-items:center; font-size:11px; color:#666; }
.ios-icon { width:52px; height:52px; border-radius:12px; display:flex; align-items:center; justify-content:center; color:#fff; font-size:22px; margin-bottom:5px; }

/* 底部 Dock 适配 */
.dock-bar { 
    position:absolute; bottom: calc(25px + env(safe-area-inset-bottom)); 
    left:15px; right:15px; height:85px; 
    background:rgba(255,255,255,0.85); backdrop-filter:blur(15px); 
    border-radius:26px; border:1px solid rgba(0,0,0,0.05); 
    display:flex; justify-content:space-around; align-items:center; 
}
.dock-btn { display:flex; flex-direction:column; align-items:center; text-decoration:none; }
.dock-btn img { width:38px; height:38px; margin-bottom:4px; }
.dock-btn span { font-size:11px; color:#333; font-weight:500; }

/* --- App 内部页面：修复样式流失 --- */
.sub-page { position:absolute; top:0; left:0; width:100%; height:100%; display:none; flex-direction:column; background:#fff; }
.sub-page.active { display:flex; }

.app-header { 
    height: 55px; flex-shrink: 0; background: var(--header-bg); 
    border-bottom: 1px solid #e0e0e0; display:flex; align-items:center; 
    justify-content:space-between; padding:0 15px; 
}
.app-header i { font-size: 18px; color: #333; cursor: pointer; padding: 10px; }
.header-title { font-size: 17px; font-weight: 600; color: var(--text-main); }

.app-body { flex: 1; overflow-y: auto; background: #fff; }

.app-footer { 
    height: calc(60px + env(safe-area-inset-bottom)); 
    padding-bottom: env(safe-area-inset-bottom);
    border-top: 1px solid #eee; display:flex; background: #fdfdfd; 
}
.footer-tab { flex:1; display:flex; flex-direction:column; align-items:center; justify-content:center; color:#999; font-size:11px; }
.footer-tab i { font-size: 20px; margin-bottom: 2px; }
.footer-tab.active { color: var(--wc-green); }

/* 微信/设置列表美化 */
.minimal-list { padding-top: 8px; }
.minimal-row { 
    height: 60px; padding: 0 20px; display:flex; align-items:center; 
    justify-content:space-between; border-bottom: 1px solid #f2f2f2; 
    font-size:16px; color: #333; cursor:pointer;
}
.minimal-row:active { background: #f5f5f5; }

.list-item { 
    display:flex; padding: 12px 16px; border-bottom: 1px solid #f5f5f5; align-items:center; 
}
.list-item img { width: 48px; height: 48px; border-radius: 8px; margin-right: 12px; }
.list-item-info { flex: 1; }
.list-item-info b { font-size: 16px; display: block; margin-bottom: 2px; }
.list-item-info small { color: #aaa; font-size: 13px; }

/* 聊天框修复 */
.msg-box { flex:1; background:#ededed; padding:15px; overflow-y:auto; }
.wc-input-area { 
    height: calc(60px + env(safe-area-inset-bottom)); 
    padding: 0 10px env(safe-area-inset-bottom);
    background:#f7f7f7; border-top:1px solid #ddd; display:flex; align-items:center; gap:10px;
}
#chat-in { flex:1; height:38px; border:1px solid #ddd; border-radius:6px; padding:0 10px; background:#fff; font-size:15px; }

/* 按钮与表单 */
.p-20 { padding: 20px; }
.l { font-size: 13px; color: #888; margin: 15px 0 5px; display: block; }
.i { width: 100%; padding: 12px; border: 1px solid #eee; border-radius: 10px; background: #fafafa; font-size: 15px; }
.b-save { width: 100%; padding: 15px; background: #333; color: #fff; border: none; border-radius: 12px; font-weight: 600; margin-top: 25px; }
.api-btn { background: var(--wc-green); color: #fff; border: none; padding: 5px 12px; border-radius: 6px; font-size: 12px; }

/* 启动动画 */
#splash-screen { position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; z-index:99999; display:flex; flex-direction:column; justify-content:center; align-items:center; transition: opacity 0.6s; }
.pixel-text { font-size:2rem; letter-spacing:5px; color:#333; font-weight: 800; }
.loader { width: 20px; height: 20px; border: 3px solid #eee; border-top: 3px solid #333; border-radius: 50%; animation: spin 1s linear infinite; margin-top: 20px; }
@keyframes spin { 100% { transform: rotate(360deg); } }

.empty-hint { text-align: center; color: #bbb; margin-top: 100px; font-size: 15px; }

/* 弹窗适配 */
.modal-overlay { position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1000; display:none; justify-content:center; align-items:center; }
.modal-card { width: 85%; background:#fff; border-radius: 20px; padding: 20px; }
.modal-save { width:100%; padding:14px; background:var(--wc-green); color:#fff; border:none; border-radius:12px; font-weight:600; margin-top:10px; }